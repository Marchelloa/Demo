## Demo
Это демо часть, с закрытыми комментариями и частью кода.
Пакет представляет собой набор модулей написанных на Python для анализа рыночных инструментов, таких как индексы, акции, фьючерсы. 
Использованы внешние модули:
- Pandas
- Numphy
- MatplotLib 
- Plotly
- Dash

## Алгоритм работы.
## 1.1 Настройки **settings.py**:
***
В данном файле содержаться настройки для работы пакета. Описания констант приведены в комментариях к коду.
## 1.2 Загрузка данных **load_data.py**:
### Используемые модули: *requests, datetime, time, tqdm*
***
На данном этапе, в зависимости от способа, происходит подключение к удалённому серверу по API, либо отправляется get, post запрос для полученяи архива котировок. Если это get запрос то во избежании блокировок запросы происходят с интервалами. Полученные данные перед сохранением очищаются от ненужных символов, и сохраняются в папку "Load_data"  в формате *.txt*. Ход выполнения загрузки данных выполнен графическим индикатором загрузки в окне терминала. После окончания загрузки, происходит запуск файла **daily_view_ref.py**. В демо версии удалены адреса загрузки данных, поэтому запуск файла будет вызывать ошибку.
## 1.3 Работа **daily_view_ref.py**:
### Используемые модули: *collections, typing, pandas, concurrent, time*
***
В данном модуле написан алгоритм расчёта показателей на крайнюю дату имеющихся данных, для всех отслеживаемых рыночных инструментов. Так как расчёт происходит для многих инструментов на основе 30ти летних данных, то последовательное выполнение расчёта занимает много времени. Для его значительной экономии использован мультипроцессорный режим с помощью модуля concurrent, что сокращает время выполнения расчёта на многоядерных процессорах в разы. Результаты расчёта сохраняются в Excel файл *'dayly.xlxs'* в папку "Load_data". Дальнейший анализ производится в Jupyter Notebook.
## 1.4 Описание классов **class_ticker_descriptor.py**:
### Используемые модули: *collections.deque, pandas*
***
В данном модуле создаются классы, экземпляры которых в последующем будут использоваться для анализа и построения графиков и датафрэймов. Основной класс который используется в анализе __DataTicker__. Для построение экземпляра требуются следующие параметры: ticker - имя тиккера; ma_period - период для расчёта средней; hold_time - время удержания позиции, на основании которого строятся данные; type_deel - True или False, тип сделки short(False), long(True).
Класс Build является дескриптором класса DataTicker. Класс DT_Build содержит методы для расчёта новых и перерасчёта текущих датафрэймов pandas при изменении параметров экземпляров DataTicker. Build и DT_Build используются только для внутренней работы модуля.
## 1.5 Модуль подготовки данных **data_prepare.py**:
### Используемые модули: *pandas*:
***
В данном модуле описаны функции, которые готовят данные для построения некоторых графиков. Прямое обращение к данным функциям не требуется, используются для внутренней логики.
## 1.6 Модуль функций построения визуализаций и графиков **charts_ref.py**:
### Используемые модули: *pandas, numpy, plotly, matplotlib*:
***
В данном модуле содержаться функции которые принимают аргументы и строят статические графики и диаграммы в MatplotLib, интерактивные в Plotly. Все функции задокументированы и содержат описания. Параметры функций имеют анотацию типа что упрощает их использование для построения графиков. При вводе аргументов линтер выдаст подсказку по переменным и типу.

## 1.7 Мини вэб приложение на Flask - нтерактивные графики **dash_app.py**:
### Используемые модули: *pandas, dash, plotly, functools*:
***
Данный модуль описывает модели для построения интерактивных графиков, с формами для выбора и ввода параметров. Используется кэширование данных чтобы, при смене парметров графика и повторном вызове не происходил повторный расчёт при одинаковых параметрах. Запускается через терминал командой: 
>*python dash_app.py*

## 1.8 Файл для Jupyter Notebook c построенями графиков и статистикой Gold_analis.ipynb
***
В данном блокноте создаётся объект на основе класса DataTicker, и производятся построения графиков и стат расчёты в pandas. Изменяя минимальное количество параметров объекта можно производить новые расчёты под новые параметры. В качестве примера для анализа принято золото. 




